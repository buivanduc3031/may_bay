{% extends 'admin/master.html' %}

{% block body %}
<div class="container mt-4">
    {% if current_user.is_authenticated %}
        <div class="text-center">
            <h1 class="text-primary">✨ CHÀO MỪNG ĐẾN VỚI TRANG QUẢN TRỊ ✨</h1>
            <h2 class="text-success mt-3">Xin chào, <span class="fw-bold">{{ current_user.username }}</span>!</h2>
        </div>
    {% else %}
        <div class="text-center">
            <h1 class="text-info mt-3">🔒 ĐĂNG NHẬP QUẢN TRỊ 🔒</h1>
        </div>

        <!-- Hiển thị thông báo lỗi -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <div class="alert alert-danger mt-3">
                    {% for category, message in messages %}
                        <p class="mb-0">{{ message }}</p>
                    {% endfor %}
                </div>
            {% endif %}
        {% endwith %}

        <div class="row justify-content-center mt-5">
            <div class="col-md-6 col-sm-12">
                <form method="post" action="/login-admin" class="p-4 shadow rounded" style="background-color: #f8f9fa;">
                    <div class="form-floating mb-3 mt-3">
                        <input type="text" class="form-control" id="username" placeholder="Tên đăng nhập" name="username" />
                        <label for="username">Tên đăng nhập</label>
                    </div>
                    <div class="form-floating mb-3 mt-3">
                        <input type="password" class="form-control" id="pwd" placeholder="Mật khẩu" name="password" />
                        <label for="pwd">Mật khẩu</label>
                    </div>
                    <div class="text-center">
                        <button type="submit" class="btn btn-primary px-4">Đăng nhập</button>
                    </div>
                </form>
            </div>
        </div>
    {% endif %}
</div>
{% endblock %}
